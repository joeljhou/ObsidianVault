---
title: 概述及历史
shortTitle: 
description: 
icon: 
cover: 
author: 流浪码客
isOriginal: true
sticky: false
star: false
date: 2025-06-07
category: 工程协作
tags:
  - Git
---
# 概述及历史
> **Git** 是一个<u>分布式</u>版本控制系统，用于跟踪文件的更改，特别是源代码文件的更改。它由 **Linus Torvalds** 于 2005 年开发，最初是为了支持 **Linux 内核开发**。
## 什么是“版本控制“？
版本控制是一种管理和跟踪文件变更的系统，允许多个用户协作开发并记录文件历史，便于回滚、合并和解决冲突。
 **版本控制系统（VCS）的发展阶段**
1. **本地版本控制系统 (Local Version Control System)**：
	只在本地计算机上管理文件版本，通常通过简单的目录或文件副本来保存文件的不同版本。例如： `RCS`。
2. **集中化版本控制系统 (Centralized Version Control System, CVCS)**：
	所有版本数据存储在中央服务器上，用户通过客户端访问和提交文件的变更。缺点是如果中央服务器出现问题，可能会导致无法访问历史版本。例如：`CVS`、`Subversion (SVN)`、`Perforce`。
3. **分布式版本控制系统 (Distributed Version Control System, DVCS)**：
	每个用户都有完整的版本历史库，允许脱机工作，并且可以将本地修改推送到中央仓库或其他用户的仓库。常见的有`Git`、`Mercurial`。
##  Git 发展简史
1. **1991-2002年**：Linux 内核开发团队花费大量时间在提交补丁和保存归档上，管理工作繁琐。
2. **2002年**：Linux 内核团队使用 **BitKeeper** 版本控制系统，但因商业合作结束，失去免费使用 BitKeeper 的权限。
3. **2005年**：Linus Torvalds 不满意 BitKeeper，决定开发 **Git**，并设定了高效、分布式、支持非线性开发等目标。
4. **2005年4月**：Linus 发布了 Git 的第一个版本，初步实现了分布式版本控制的功能。
5.  **2005年后期**：Git 逐步被优化，加入了更强大的功能，如分支管理、合并、标签、历史查询等。
6. **2008年**：Git 被 **GitHub** 所推广，成为开源项目的首选版本控制系统，极大地推动了其普及。
7. **2010年后**：Git 成为全球开发者的主流工具，广泛应用于开源项目和企业开发。
## Git 核心理念
1. **直接记录快照，而非差异比较**：
	* Git 通过保存文件的完整快照来记录版本，而不是保存文件间的差异。
	* Git 对待数据更像是一个**快照流**。
2. **近乎所有操作都是本地执行**：
	* Git 在本地执行几乎所有操作，不需要连接到远程仓库。
	* 赋予了离线工作的能力。
3. **Git 保证完整性**：
	* Git 使用 SHA-1 哈希算法确保数据的完整性，保证每个版本的唯一性。
4. **Git 一般只添加数据**：
	* Git 在每次提交时通常只增加新的数据，而不覆盖已有数据，确保数据历史的连续性。
5. **Git 的三种文件状态 与 三个工作区域****：
	*  文件有三种状态：**已提交（committed）**、**已修改（modified）**、**已暂存（staged）**。
	* 由三种状态引入了 Git 项目的**三个工作区域**：
		* **Git 仓库（Repository）**：
			* 存储提交的版本和历史记录，通常位于 `.git` 目录中。
			* 文件在提交（`git commit`）时从暂存区转移到仓库，成为项目历史的一部分。
		* **工作目录（Working Directory）**：
			* 你实际操作的文件目录，包含当前的文件状态，可以进行修改。
			* 文件的变化会使得文件处于 **已修改（Modified）** 状态。
		* **暂存区域（Staging Area 或 Index）**：
			* 暂存区域是一个临时区域，保存将要提交到 Git 仓库的文件修改。
			* 使用 `git add` 命令将文件的修改添加到暂存区域。
			* 在执行 `git commit` 命令后，暂存区域的内容会被提交到 Git 仓库。
## Git的四种协议
Git支持四种主要协议用于数据传输：**本地协议**、**HTTP协议**（智能/哑）、**SSH协议**和**Git协议**。
✅ **本地协议（Local protocol）**
远程版本库就是硬盘内的另一个目录。
克隆一个本地版本库，可以执行如下的命令：
```shell
# 本地路径，使用硬链接（hard links）方式加快克隆速度
$ git clone /opt/git/project.git

# file:// 认为是一个网络URL，使用HTTP一样的"哑协议”方式
$ git clone file:///opt/git/project.git
```
**👍 优点：**
* 团队已经有共享文件系统，建立版本库会十分容易。
**👎 缺点：**
* 共享文件系统比较难配置，不方便从多个位置访问。
* 通过 NFS 访问版本库要比通过 SSH 访问慢。
* 这个协议并不保护仓库避免意外的损坏。
✅  **HTTP 协议**
Git 支持两种 HTTP 协议：**哑（Dumb）HTTP** 和 **智能（Smart）HTTP**，其中智能 HTTP在 Git 1.6.6 之后成为主流。
**智能（Smart） HTTP 协议**
* 最流行的使用 Git 的方式
* 即支持像`git://`协议一样设置匿名服务，也可以像`SSH`协议一样提供传输时的授权和加密。
**哑（Dumb） HTTP 协议**
* 哑 HTTP 协议里 web 服务器仅把裸版本库当作普通文件来对待，提供文件服务。
* 仅支持只读操作（克隆、拉取），适合轻量只读发布。
**👍 优点：**（只关注智能 HTTP 协议）
* 访问只需要一个URL，终端用户操作简单
* 相比 SSH 协议，可以使用用户名/密码授权，无需设置 SSH 密钥。 
* 对非资深的使用者，HTTP 协议的可用性是主要的优势。
**👎 缺点：**
* 在 HTTP 上使用需授权的推送，管理凭证麻烦。
✅  **SSH 协议**
SSH 协议也是一个验证授权的网络协议；并且，因为其普遍性，架设和使用都很容易。
通过 SSH 协议克隆版本库：
```shell
# 指定一个 `ssh://` 的 URL：
$ git clone ssh://user@server/project.git
# scp 式的写法：
$ git clone user@server:project.git
```
**👍 优点：**
* SSH 架设相对简单，部署和管理门槛低。
* 安全性高，所有传输数据都要经过授权和加密。
* 传输效率高。
👎 缺点：
* 不支持匿名访问。
✅  **Git 协议**
Git 协议是一种专为 Git 设计的高效只读协议：
* 监听默认端口 `9418`。
* 使用时需在裸仓库根目录创建 `git-daemon-export-ok` 文件，表示允许通过 Git 协议访问。
* 不支持授权机制，因此无法通过 Git 协议推送。
**👍 优点：**
* 网络传输协议里最快的。
👎 缺点：
* 缺乏授权机制，不适合作为访问项目版本库的唯一手段。 
* 部署复杂，需要配置 `git-daemon` 守护进程，通常还需配合 `xinetd` 或类似服务管理工具。
* 需开放防火墙端口 `9418`。